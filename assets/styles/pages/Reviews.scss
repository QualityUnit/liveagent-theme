/* stylelint-disable selector-class-pattern, no-descending-specificity */

@import "../common/mixins";
@import "../common/variables";
@import "../elements/ReviewsRating";
@import "../components/ReviewsGallery";
@import "../layouts/BlogPost";

.Reviews {

	&__header {
		position: relative;
		max-width: $breakpoint-desktop-hd;
		margin: 0 auto;

		&-level1 {
			background: url(../../images/reviews_1st_level_header_bg.jpg) center center no-repeat;
			background-size: cover;

			&::after {

				@include posZero();
				position: absolute;
				content: "";
				background: url(../../images/reviews_1st_level_header_img.png) calc(100% - 1em) calc(100% - 2em) no-repeat;
				background-size: contain;
			}
		}

		&--post {
			background: url(../../images/reviews_header_post_bg.jpg) center top no-repeat;
			background-size: cover;
			padding: 1.5em 0;
			margin-bottom: 3em;

			.wrapper {
				height: 13em;
			}

			&__title {
				margin-bottom: 0;
				margin-right: 0.5em;
				max-width: 50%;
			}

			&__bottom {
				margin-top: auto;
			}

			@media (min-width: $breakpoint-tablet) {

				&__title {
					font-size: 2rem;
				}
			}
		}

		@media (min-width: $breakpoint-desktop-hd) {
			border-radius: $border-radius-16;
		}
	}

	&__update {
		display: flex;
		align-items: center;
		line-height: 1;
		color: $dark-gray;
		font-size: 0.75rem;

		em {
			color: $black;
			font-style: normal;
			margin-left: 0.5em;
		}

		&.small {

			&::before {

				@include square(1em);
			}
		}

		&.fit {
			font-size: 1em;
			font-family: inherit;
			color: currentcolor;

			&::before {

				@include square(1em);
			}
		}

		&::before {

			@include square(1.5em);
			content: "";
			background: url(../../images/update_icon.svg) center center no-repeat;
			background-size: contain;
			margin-right: 0.5em;
		}
	}

	&__info {
		font-size: 0.875rem;

		.currency {
			font-style: 1.143em;
		}

		.price {
			font-size: 2.285em;
		}

		&--desc {

			@media (min-width: $breakpoint-tablet) {
				display: inline-block;
				width: 25%;
			}
		}
	}

	&__equalPlan {
		display: flex;
		align-items: center;
		background: linear-gradient(to right, #c04297, #ff4c6c, #ff7b6c);
		color: $white;
		font-family: $font-secondary;
		font-size: 0.875rem;
		font-weight: 600;
		line-height: 1.3;
		border-radius: 0.714em;
		width: fit-content;
		padding: 0.75em 1em;

		.alert-icon {

			@include square(2em);
			background: url(../../images/icon-alert.svg) no-repeat;
			margin-right: 0.5em;
		}

		a {
			display: block;
			color: currentcolor;
			text-decoration: underline;
		}
	}

	&__editor {
		background: url(../../images/reviews_editor_bg.jpg) center center no-repeat;
		background-size: cover;
		max-width: $breakpoint-desktop-hd;
		margin: 0 auto;

		&--top {
			margin-bottom: 3em;
		}

		@media (min-width: $breakpoint-tablet) {
			padding: 4em 0 3em;

			&--top {
				display: flex;
			}

			&--titles {
				margin-top: auto;
				width: 50%;

				.tag {
					text-transform: uppercase;
				}

				h3 {
					font-size: 2rem;
					margin-bottom: 0;
				}
			}

			.progressBar__wrapper + .progressBar__wrapper {
				margin-top: 0.75em;
			}

			.Reviews__rating {
				max-width: 18.375em;
				margin-left: auto;
			}
		}

		@media (min-width: $breakpoint-desktop-hd) {
			border-radius: $border-radius-16;
		}
	}

	&__relatedReviews {

		&--post {
			display: block;
			background-color: $white;
			border-radius: $border-radius-16;
			box-shadow: 0 1em 66px 0 rgba($black-real, 0.12);
			margin-top: 0.75em;
			overflow: hidden;

			&:not(.active) {
				border-bottom-right-radius: 0;
			}

			@media (hover: hover) {

				&:hover {

					.Reviews__relatedReviews--post {

						&__inn[class] {
							color: $black;
						}

						&__arrow {
							background: var(--background);
						}
					}
				}
			}

			&__number {
				font-size: 1.5rem;

				.active & {
					color: $dark-orange;
				}
			}

			&__title {
				font-size: inherit;
				font-weight: 700;
				margin: 0;
				color: currentcolor;

				@media (min-width: $breakpoint-tablet) {
					margin-right: auto;
				}
			}

			&__arrow {
				position: absolute;
				display: none;
				width: 2.75em;
				height: 100%;
				top: 0;
				right: 0;
				background-color: $light-gray-icon;
				border-bottom-left-radius: $border-radius-16;

				svg {
					flex: 0 0 0.75em;
				}

				@media (min-width: $breakpoint-tablet) {

					.Reviews__relatedReviews--post:not(.active) & {
						display: flex;
						align-items: center;
						justify-content: center;
					}
				}
			}

			&__inn[class] {
				position: relative;
				padding: 1.125em;
				flex-direction: column;
				font-size: 1.125rem;
				font-weight: 600;
				line-height: 1;
				color: $medium-gray-quotes;

				.active & {
					color: $black;
					pointer-events: none;
				}

				@media (min-width: $breakpoint-tablet) {
					flex-direction: row;
					align-items: center;
				}
			}
		}
	}
}

